
@{
    ViewBag.Title = "Создание нового рецепта";
}

<script>

    countIngredient = 1;

    function addIngredient() {
        var txt = `<div class="form-horizontal" class="ingredient" >
                            <div class="form-group col-md-4">
                                <input type="text" class="form-control" placeholder="Название">
                            </div>
                            <div class="form-group col-md-4">
                                <input type="number" class="form-control" placeholder="Количество">
                            </div>
                            <div class="form-group col-md-4">
                                <select class="form-control">
                                    <option disabled selected>Ед. измерения</option>
                                    <option>$кг</option>
                                    <option>$л</option>
                                    <option>$ст</option>
                                </select>
                            </div>
                            <div class="ingredient">
                                <button class="btn btn-default" type="button" >
                                    <span class="glyphicon glyphicon-remove"></span>
                                </button>
                            </div>
                            <br>
                        </div>`;
        $("#ingredient").append(txt);


    }


    function addStep() {
        var txt = `<div class="form-group form-horizontal step">
                        <hr>
                        <div class="form-group">
                            <h5 class="col-md-2">Шаг </h5>
                            <div class="step">
                                <button class="btn btn-default" type="button">
                                    <span class="glyphicon glyphicon-remove"></span>
                                </button>
                            </div>
                        </div>
                        <textarea class="form-control " placeholder="Введите описание..." rows="3"></textarea>
                        <br>
                        <button class="btn btn-default">
                            Загрузить фото
                            <span class="glyphicon glyphicon-open"></span>
                        </button>
                    </div>`;
        $("#step").append(txt);
    }
</script>



<div class="container">
    <div class="row">
        <div class="col-md-12">

            <h2 class="text-center">Создание нового рецепта</h2><br>

            <div class="col-md-3"></div>

            <form role="form" class="col-md-6">

                <div class="form-group">
                    <label>Название блюда</label>
                    <input type="text" class="form-control">
                </div>

                <div class="form-group">
                    <label>Краткое описание</label>
                    <textarea class="form-control" placeholder="Введите описание..." rows="3"></textarea>
                </div>

                <div >
                    <label>Время приготовления</label>
                    <div class="form-horizontal">
                        <div class="form-group col-md-2">
                            <input type="number" class="form-control ">
                        </div>

                        <div class="form-group col-md-2">
                            <h5 class="">ч. </h5>
                        </div>
                        <div class="form-group col-md-2">
                            <input type="number" class="form-control ">
                        </div>

                        <div class="form-group col-md-2">
                            <h5 class=""> мин. </h5>
                        </div>
                    </div>

                    <br><br><br>
                </div>


                <div class="form-group">
                    <label>Теги</label>
                    <div>
                        <input type="text" class="form-control" placeholder="Начните писать название тега...">
                    </div>
                </div>

                <div>
                    <label>Ингредиенты</label>
                    <div id="ingredient">
                        <div class="form-horizontal" class="ingredient" >
                            <div class="form-group col-md-4">
                                <input type="text" class="form-control" placeholder="Название">
                            </div>
                            <div class="form-group col-md-4">
                                <input type="number" class="form-control" placeholder="Количество">
                            </div>
                            <div class="form-group col-md-4">
                                <select class="form-control">
                                    <option disabled selected>Ед. измерения</option>
                                    <option>$кг</option>
                                    <option>$л</option>
                                    <option>$ст</option>
                                </select>
                            </div>
                            <div class="ingredient">
                                <button class="btn btn-default" type="button">
                                    <span class="glyphicon glyphicon-remove"></span>
                                </button>
                            </div>
                            <br>
                        </div>
                    </div>
                </div>
                <div>
                    <button class="btn btn-success " type="button" onclick="addIngredient()" id="btnAddIngredient">
                        <span class="glyphicon glyphicon-plus"></span>
                    </button>
                </div><br><br>

                <label>Приготовление</label>
                <div id = "step">
                    <div class="form-group form-horizontal step">
                        <div class="form-group">
                            <h5 class="col-md-2">Шаг </h5>
                            <div class="step">
                                <button class="btn btn-default" type="button">
                                    <span class="glyphicon glyphicon-remove"></span>
                                </button>
                            </div>
                        </div>
                        <textarea class="form-control " placeholder="Введите описание..." rows="3"></textarea>
                        <br>
                        <button class="btn btn-default">
                            Загрузить фото
                            <span class="glyphicon glyphicon-open"></span>
                        </button>
                    </div>
                </div>
                <div>
                    <button class="btn btn-success " type="button" onclick="addStep()">
                        <span class="glyphicon glyphicon-plus"></span>
                    </button>
                </div><br><br>

                <button type="submit" class="btn btn-default">Сохранить</button>

            </form>

            <div class="col-md-3"></div>

        </div>
    </div>
</div>

<script>
    ingredients = $('.ingredient');
    ingredients.click(function() {
        $(this).parent().remove();
    });
</script>

<script>
    steps = $('.step');
    steps.click(function() {
        $(this).parent().parent().remove();
    });
</script>